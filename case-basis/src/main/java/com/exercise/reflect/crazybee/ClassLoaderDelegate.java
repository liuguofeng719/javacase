package com.exercise.reflect.crazybee;

/**
 * @author guofeng
 * @version 1.0
 * @see jdk 1.8
 *
 * // 类的加载机制
 * 1、类加载器
 *  BootstrapClassLoader c++ 写的所有java获取不到，值为空
 *  加载文件/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/rt.jar
 *  ExtClassLoader
 *  加载文件/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/
 *  AppClassLoader
 *  classpath下面的，以及程序所有用到的jar包
 * 2、双亲委派机制
 * 3、沙箱安全机制
 **/
public class ClassLoaderDelegate {

    public static void main(String[] args) throws Exception {

        final Class<Object> objectClass = Object.class;
        System.out.println(objectClass.getClassLoader());
        ///Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext
        final Class<?> aClass1 = Class.forName("com.sun.java.accessibility.util._AccessibleState");
        System.out.println(aClass1.getClassLoader());

        final Class<?> aClass = Class.forName("com.exercise.reflect.crazybee.ClassLoaderDelegate");
        //sun.misc.Launcher$AppClassLoader@18b4aac2
        System.out.println(aClass.getClassLoader());
        //sun.misc.Launcher$ExtClassLoader@816f27d
        System.out.println(aClass.getClassLoader().getParent());
        //null
        System.out.println(aClass.getClassLoader().getParent().getParent());
        // 打印jar的文件路劲
        System.out.println(System.getProperty("java.class.path"));

        /**
         * /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jfxswt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/packager.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/tools.jar:/Users/lgfcxx/Documents/IdeaProject/javacase/case-basis/target/classes:/Users/lgfcxx/.m2/repository/cglib/cglib/3.2.5/cglib-3.2.5.jar:/Users/lgfcxx/.m2/repository/org/ow2/asm/asm/5.2/asm-5.2.jar:/Users/lgfcxx/.m2/repository/org/apache/ant/ant/1.9.6/ant-1.9.6.jar:/Users/lgfcxx/.m2/repository/org/apache/ant/ant-launcher/1.9.6/ant-launcher-1.9.6.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi/3.8/poi-3.8.jar:/Users/lgfcxx/.m2/repository/commons-codec/commons-codec/1.5/commons-codec-1.5.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi-ooxml/3.8/poi-ooxml-3.8.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.8/poi-ooxml-schemas-3.8.jar:/Users/lgfcxx/.m2/repository/org/apache/xmlbeans/xmlbeans/2.3.0/xmlbeans-2.3.0.jar:/Users/lgfcxx/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/Users/lgfcxx/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/lgfcxx/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.client/1.1.0/canal.client-1.1.0.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.protocol/1.1.0/canal.protocol-1.1.0.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.common/1.1.0/canal.common-1.1.0.jar:/Users/lgfcxx/.m2/repository/io/netty/netty-all/4.1.6.Final/netty-all-4.1.6.Final.jar:/Users/lgfcxx/.m2/repository/org/apache/zookeeper/zookeeper/3.4.5/zookeeper-3.4.5.jar:/Users/lgfcxx/.m2/repository/org/jboss/netty/netty/3.2.2.Final/netty-3.2.2.Final.jar:/Users/lgfcxx/.m2/repository/com/101tec/zkclient/0.10/zkclient-0.10.jar:/Users/lgfcxx/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/lgfcxx/.m2/repository/com/alibaba/fastjson/1.2.28/fastjson-1.2.28.jar:/Users/lgfcxx/.m2/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/lgfcxx/.m2/repository/ch/qos/logback/logback-core/1.1.3/logback-core-1.1.3.jar:/Users/lgfcxx/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar:/Users/lgfcxx/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.12/jcl-over-slf4j-1.7.12.jar:/Users/lgfcxx/.m2/repository/org/slf4j/slf4j-api/1.7.12/slf4j-api-1.7.12.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-core/3.2.9.RELEASE/spring-core-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-aop/3.2.9.RELEASE/spring-aop-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-beans/3.2.9.RELEASE/spring-beans-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-context/3.2.9.RELEASE/spring-context-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-expression/3.2.9.RELEASE/spring-expression-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-jdbc/3.2.9.RELEASE/spring-jdbc-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-tx/3.2.9.RELEASE/spring-tx-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-orm/3.2.9.RELEASE/spring-orm-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/com/google/protobuf/protobuf-java/2.6.1/protobuf-java-2.6.1.jar:/Users/lgfcxx/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/lgfcxx/.m2/repository/org/projectlombok/lombok/1.18.4/lombok-1.18.4.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jfxswt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/packager.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/lib/tools.jar:/Users/lgfcxx/Documents/IdeaProject/javacase/case-basis/target/classes:/Users/lgfcxx/.m2/repository/cglib/cglib/3.2.5/cglib-3.2.5.jar:/Users/lgfcxx/.m2/repository/org/ow2/asm/asm/5.2/asm-5.2.jar:/Users/lgfcxx/.m2/repository/org/apache/ant/ant/1.9.6/ant-1.9.6.jar:/Users/lgfcxx/.m2/repository/org/apache/ant/ant-launcher/1.9.6/ant-launcher-1.9.6.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi/3.8/poi-3.8.jar:/Users/lgfcxx/.m2/repository/commons-codec/commons-codec/1.5/commons-codec-1.5.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi-ooxml/3.8/poi-ooxml-3.8.jar:/Users/lgfcxx/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.8/poi-ooxml-schemas-3.8.jar:/Users/lgfcxx/.m2/repository/org/apache/xmlbeans/xmlbeans/2.3.0/xmlbeans-2.3.0.jar:/Users/lgfcxx/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/Users/lgfcxx/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/lgfcxx/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.client/1.1.0/canal.client-1.1.0.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.protocol/1.1.0/canal.protocol-1.1.0.jar:/Users/lgfcxx/.m2/repository/com/alibaba/otter/canal.common/1.1.0/canal.common-1.1.0.jar:/Users/lgfcxx/.m2/repository/io/netty/netty-all/4.1.6.Final/netty-all-4.1.6.Final.jar:/Users/lgfcxx/.m2/repository/org/apache/zookeeper/zookeeper/3.4.5/zookeeper-3.4.5.jar:/Users/lgfcxx/.m2/repository/org/jboss/netty/netty/3.2.2.Final/netty-3.2.2.Final.jar:/Users/lgfcxx/.m2/repository/com/101tec/zkclient/0.10/zkclient-0.10.jar:/Users/lgfcxx/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/lgfcxx/.m2/repository/com/alibaba/fastjson/1.2.28/fastjson-1.2.28.jar:/Users/lgfcxx/.m2/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/lgfcxx/.m2/repository/ch/qos/logback/logback-core/1.1.3/logback-core-1.1.3.jar:/Users/lgfcxx/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar:/Users/lgfcxx/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.12/jcl-over-slf4j-1.7.12.jar:/Users/lgfcxx/.m2/repository/org/slf4j/slf4j-api/1.7.12/slf4j-api-1.7.12.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-core/3.2.9.RELEASE/spring-core-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-aop/3.2.9.RELEASE/spring-aop-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-beans/3.2.9.RELEASE/spring-beans-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-context/3.2.9.RELEASE/spring-context-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-expression/3.2.9.RELEASE/spring-expression-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-jdbc/3.2.9.RELEASE/spring-jdbc-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-tx/3.2.9.RELEASE/spring-tx-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/org/springframework/spring-orm/3.2.9.RELEASE/spring-orm-3.2.9.RELEASE.jar:/Users/lgfcxx/.m2/repository/com/google/protobuf/protobuf-java/2.6.1/protobuf-java-2.6.1.jar:/Users/lgfcxx/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/lgfcxx/.m2/repository/org/projectlombok/lombok/1.18.4/lombok-1.18.4.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar
        * */
    }
}
